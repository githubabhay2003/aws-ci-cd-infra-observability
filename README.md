# AWS CI/CD Infrastructure Observability Project

Automated end-to-end DevOps pipeline provisioned with Terraform and Ansible, running Jenkins CI/CD with full observability through Prometheus, Grafana, and Alertmanager.

---

## ğŸš€ Status & Badges

| Feature | Status |
|--------|--------|
| Terraform Remote Backend | âœ… Working |
| Ansible Automation | âœ… Automated |
| CI/CD Pipeline | âœ” Running |
| Monitoring Exporters | âœ” Enabled |
| Alerting | âš  Placeholder for Slack/Email config |
| Automated Grafana Provisioning | âœ” Enabled |
| End-to-End DR (Destroy & Rebuild Validation) | âœ” Tested |


---

## ğŸ“š Table of Contents

- [Overview](#overview)
- [Skills Demonstrated](#skills-demonstrated)
- [Architecture](#architecture)
- [Tech Stack](#tech-stack)
- [Prerequisites](#prerequisites)
- [Deployment Guide](#deployment-guide)
- [CI/CD Pipeline Flow](#cicd-pipeline-flow)
- [Verification](#verification)
- [Screenshots](#screenshots)
- [Challenges & Learnings](#challenges--learnings)
- [Future Enhancements](#future-enhancements)
- [Repository Structure](#repository-structure)
- [Contributing](#contributing)
- [License](#license)
- [Author](#author)

---

## ğŸ§  Overview

This project showcases a fully automated DevOps environment capable of provisioning cloud infrastructure, configuring CI/CD tooling, deploying applications, and monitoring both application and DevOps pipeline health.

Once deployed, everything runs automatically:

- Infrastructure provisioning  
- Jenkins installation and pipeline execution  
- Monitoring dashboards  
- Alerting for build failures and resource thresholds  

Destroying and recreating the entire stack works with **zero manual reconfiguration**, proving automation maturity.

---

## ğŸ† Skills Demonstrated

- Infrastructure-as-Code (Terraform modules + remote backend)
- Configuration Management (Ansible roles)
- CI/CD automation (Jenkins scripted pipeline)
- Monitoring & Alerting (Prometheus + Grafana + Alertmanager)
- Secure credential handling (Jenkins credentials store)
- Dynamic automation scripts (`bootstrap-dev.sh` and inventory generators)

---

## ğŸ— Architecture

<img width="2816" height="1536" alt="Gemini_Generated_Image_pypftqpypftqpypf" src="https://github.com/user-attachments/assets/fb169b2b-cda8-4992-95a7-584d23240b12" />

---

## ğŸ§° Tech Stack

| Category | Tools |
|----------|-------|
| Cloud Provider | AWS |
| IaC | Terraform (remote state + locking) |
| Configuration Management | Ansible (role-based) |
| CI/CD | Jenkins Pipeline |
| Container Runtime | Docker |
| Monitoring | Prometheus, Node Exporter |
| Visualization | Grafana |
| Alerting | Alertmanager |
| Language Runtime | Python (Demo App) |

---

## ğŸ“Œ Prerequisites

| Requirement | Link |
|------------|------|
| AWS Account | https://aws.amazon.com |
| Terraform | https://www.terraform.io/downloads |
| Ansible | https://docs.ansible.com |
| Git | https://git-scm.com |
| Python (for CLI usage) | https://www.python.org |
| SSH Key (auto-generated by script) | Included |

---

## âš™ Deployment Guide

### 1ï¸âƒ£ Clone repo

```bash
git clone https://github.com/githubabhay2003/aws-ci-cd-infra-observability.git
cd aws-ci-cd-infra-observability
```
### 2ï¸âƒ£ Deploy everything (Infra + Ansible + Config)

```bash
./scripts/bootstrap-dev.sh
ansible-playbook -i ansible/inventory/dev ansible/site.yml
```
### 3ï¸âƒ£ Destroy when done

```bash
cd terraform
terraform destroy -var-file="environments/dev.tfvars"
```
---
## ğŸ” CI/CD Pipeline Flow

1.  **Commit & push code**
2.  **GitHub triggers Jenkins** via webhook
3.  **Jenkins:**
    * Checks out repo
    * Builds Docker image
    * Runs the container
    * Prometheus scrapes metrics
    * Grafana dashboard updates automatically
---
## ğŸ§ª Verification

After deployment, check:

| Service | URL |
| :--- | :--- |
| **Jenkins** | `http://<public-ip>:8080` |
| **App** | `http://<public-ip>:5000` |
| **Prometheus** | `http://<public-ip>:9090` |
| **Grafana** | `http://<public-ip>:3000` |

---
## ğŸ“¸ Screenshots

### Jenkins Web UI
<img width="1919" height="864" alt="Screenshot 2025-12-02 204621" src="https://github.com/user-attachments/assets/c0e3c669-bd10-44a5-8915-202309e07455" />

### Grafana Dashboard
<img width="1920" height="1080" alt="Screenshot (1567)" src="https://github.com/user-attachments/assets/645d378a-504d-4064-93d4-3917e4e49811" />

### Prometheus Targets
<img width="1919" height="858" alt="Screenshot 2025-12-02 204739" src="https://github.com/user-attachments/assets/d8488869-6421-43f6-a153-0246badb4c41" />

### Application Running
<img width="1919" height="1009" alt="Screenshot 2025-12-02 205303" src="https://github.com/user-attachments/assets/dfdf7fe6-c43f-4de4-8638-8c93759c8ab7" />

---

## ğŸ§© Challenges & Learnings

| Challenge | What Happened | How It Was Solved | Key Learning |
| :--- | :--- | :--- | :--- |
| **Jenkins could not run Docker builds** | The Jenkins user didn't have permission to access `/var/run/docker.sock`, causing builds to fail. | Updated the Ansible role to add Jenkins to the docker group and restarted the service. | Automation must enforce runtime privileges, not assume defaults. |
| **Manual inventory updates after rebuilds** | Each Terraform destroy/reapply changed the EC2 public IP, breaking Ansible connections. | Created a script (`gen-dev-inventory.sh`) that dynamically fetches Terraform outputs and updates inventory. | Dynamic infrastructure requires dynamic automation â€” avoid manual edits. |
| **Grafana dashboards were not persistent** | Dashboards disappeared after redeploys and required manual imports. | Implemented Grafana provisioning via Ansible, storing dashboards and datasources as code. | Observability must be infrastructure-as-code, not a manual UI task. |
| **Ensuring full rebuild automation** | Some steps originally required logging into Jenkins or configuring services manually. | Added bootstrapping workflows, Terraform state backend, and secret handling structure. | A true DevOps pipeline must be reproducible with a single command end-to-end. |

--- 

## ğŸ”® Future Enhancements

- [ ] Slack/email notification integration
- [ ] Build trend and deep analytics dashboards
- [ ] Replace EC2 with Kubernetes (EKS or K3s)
- [ ] Replace Docker with container registry + signing

--- 

## ğŸ“‚ Repository Structure

```text
aws-ci-cd-infra-observability/
â”œâ”€â”€ terraform/
â”‚   â”œâ”€â”€ modules/
â”‚   â”œâ”€â”€ environments/
â”‚   â””â”€â”€ keys/
â”œâ”€â”€ ansible/
â”‚   â”œâ”€â”€ roles/
â”‚   â”œâ”€â”€ inventory/
â”‚   â””â”€â”€ site.yml
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ bootstrap-dev.sh
â”‚   â””â”€â”€ gen-dev-inventory.sh
â”œâ”€â”€ app/
â”‚   â””â”€â”€ Jenkinsfile
â””â”€â”€ docs/
```
---

## ğŸ¤ Contributing
PRs are welcome! Please ensure that all changes pass the following checks before submitting:
* `terraform fmt`
* Ansible lint checks
* Jenkins validation
--- 

## ğŸ“„ License
This project is licensed under the **MIT License**.

--- 

## ğŸ‘¤ Author

**Abhay Kumar Saini** *DevOps Engineer*

* **GitHub:** [githubabhay2003](https://github.com/githubabhay2003)
* **LinkedIn:** [Abhay Kumar Saini](https://www.linkedin.com/in/abhay-kumar-saini-571891264/)
